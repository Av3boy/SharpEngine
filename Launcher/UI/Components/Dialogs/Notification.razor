@using Launcher.Services
@inherits DialogBase

@inject INotificationService NotificationService

<div>
    @foreach (var notification in NotificationService.Notifications)
    {
        <div class="alert alert-@(Type.ToCssClass()) toast show" role="alert">
            @notification.Key (@notification.Value)
            <DiscardIcon DiscardClicked="@(() => NotificationService.Discard(notification.Key))" />
        </div>
    }
</div>

@code {
    /// <summary>Gets or sets the type of the notification.</summary>
    [Parameter]
    public NotificationType Type { get; set; } = NotificationType.Warning;

    /// <inheritdoc />
    protected override void OnInitialized()
        => NotificationService.SetOnNotificationsChanged(StateHasChanged);
}
